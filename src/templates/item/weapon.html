<form
  class="{{cssClass}}"
  autocomplete="off"
  data-item-type="weapon"
>
  <header class="{{classes.header}}">
    <div class="{{classes.headerTop}}">
      <img
        src="{{item.img}}"
        data-edit="img"
        title="{{item.img}}"
        height="64"
        width="64"
      />
      <h1>
        <input
          name="name"
          type="text"
          value="{{item.name}}"
          placeholder="Name"
        />
      </h1>
    </div>
    <table class="{{classes.attributes}}">
      <tbody>
        <tr>
          <td>
            Source
          </td>
          <td>
            <div
              class="{{classes.attributesSourceText}}"
            >
              <input
                name="data.source.text"
                type="text"
                placeholder="Name of source (Optional)"
                value="{{data.source.text}}"
              />
            </div>
            <div
              class="{{classes.attributesSourceLink}}"
            >
              <input
                name="data.source.link"
                type="text"
                placeholder="Link to source (Optional)"
                value="{{data.source.link}}"
              />
              <a
                href="{{data.source.link}}"
                rel="noreferrer noopener"
                target="_blank"
              >
                <i class="fas fa-external-link-alt"></i>
              </a>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </header>
  <input
    type="hidden"
    name="data.sheet.selectedTab"
    value="{{data.sheet.selectedTab}}"
  />
  <nav class="{{classes.tabs}}">
    <a
      class="{{classes.tab}}"
      data-tab="description"
      data-selected={{eq
        data.sheet.selectedTab
        "description"
      }}
    >
      Description
    </a>
    <a
      class="{{classes.tab}}"
      data-tab="details"
      data-selected="{{eq data.sheet.selectedTab "details"}}"
    >
      Details
    </a>
    <a
      class="{{classes.tab}}"
      data-tab="effects"
      data-selected="{{eq data.sheet.selectedTab "effects"}}"
    >
      Effects
    </a>
  </nav>
  <div
    class="{{classes.tabContent}}"
    data-tab="description"
    data-selected="{{eq data.sheet.selectedTab "description"}}"
  >
    <div class="{{classes.description}}">
      {{editor
        content=data.description
        target="data.description"
        button=true
        owner=owner
        editable=editable
      }}
    </div>
  </div>
  <div
    class="{{classes.tabContent}}"
    data-tab="details"
    data-selected="{{eq data.sheet.selectedTab "details"}}"
  >
    <table class="{{classes.detailsForm}}">
      <tbody>
        <tr>
          <td class="{{classes.detailsFormLabel}}">
            {{localize "OWN.item.weapon.category.label"}}
          </td>
          <td>
            <input
              type="hidden"
              value="{{data.category}}"
            />
            <select name="data.category">
              {{#select data.category}}
                {{#each
                  (own_getConfig
                    "item.weapon.category.list"
                  ) as |category position|
                }}
                  <option value="{{category}}">
                    {{localize
                      (own_getConfig
                        (own_replace
                          "item.weapon.category.indexedLabels.{category}"
                          "{category}"
                          category
                        )
                      )
                    }}
                  </option>
                {{/each}}
              {{/select}}
            </select>
          </td>
        </tr>
        <tr>
          <td class="{{classes.detailsFormLabel}}">
            Critical
          </td>
          <td>
            <div
              class="{{classes.detailsFormRangeField}}"
            >
              <input
                name="data.critical.min"
                type="number"
                value="{{data.critical.min}}"
                placeholder="Min"
              />
              <input
                name="data.critical.max"
                type="number"
                value="{{data.critical.max}}"
                placeholder="Max"
              />
            </div>
          </td>
        </tr>
        <tr>
          <td class="{{classes.detailsFormLabel}}">
            Cost
          </td>
          <td>
            <div class="{{classes.detailsFormNumField}}">
              <input
                name="data.cost"
                type="number"
                value="{{data.cost}}"
                placeholder="Cost"
              />
            </div>
          </td>
        </tr>
        <tr>
          <td class="{{classes.detailsFormLabel}}">
            Reach
          </td>
          <td>
            <div class="{{classes.detailsFormNumField}}">
              <input
                name="data.reach"
                type="number"
                value="{{data.reach}}"
                placeholder="Reach"
              />
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <div
    class="{{classes.tabContent}}"
    data-tab="effects"
    data-selected="{{eq data.sheet.selectedTab "effects"}}"
  >
    <table>
      <thead>
        Temporary Effects
      </thead>
      <thead>
        <tr>
          <th>
            Category
          </th>
          <th>
            Ability Used
          </th>
          <th>
            Type
          </th>
          <th>
            Value
          </th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            Damage
          </td>
          <td>
            STR
          </td>
          <td>
            Bludgeoning
          </td>
          <td>
            4
          </td>
        </tr>
      </tbody>
    </table>
    <table>
      <thead>
        Passive Effects
      </thead>
      <thead>
        <tr>
          <th>
            Category
          </th>
          <th>
            Ability Used
          </th>
          <th>
            Type
          </th>
          <th>
            Value
          </th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
    <table>
      <thead>
        Inactive Effects
      </thead>
      <thead>
        <tr>
          <th>
            Category
          </th>
          <th>
            Ability Used
          </th>
          <th>
            Type
          </th>
          <th>
            Value
          </th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>
</form>